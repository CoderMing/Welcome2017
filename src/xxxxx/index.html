<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <link href="css/index.css" rel="stylesheet" type="text/css">
    </head>
    
    <body style="width: 100%;">
        <img class="right_stone" src="images/w_rightstone.png">
        <img class="mes_leftstone" src="images/w_leftstone.png">
        <div id="contain">
            
            <div id="map">
                <div class="map_move"></div>
                <div class="map-title">
                    <img class="map_waikuang" draggable="false" src="images/w_mapwaikuang.png">
                    <img class="map_title" src="images/w_maptitle.png">
                    <img class="my_dot1" src="images/w_mydot.png">
                    <img class="my_dot2" src="images/w_mydot.png">
                    <div class="map_oper">
                       <div class="map_add" title="放大"></div>
                       <div class="map_sub" title="缩小"></div>
                    </div>
                    <div class="map_con">
                        <img class="map_map" style="height: 445px;" src="images/w_mapmap.jpg">
                    </div>
                
                </div>
            </div>

            <div id="army">
                <div class="arm-title">
                    <img class="arm_armtitle" src="images/w_armtitle.png">
                    <img class="arm_waikuang" src="images/w_armwaikuang.png">
                    <img class="arm_grass" src="images/w_armgrass.png">
                    
                    <div class="my_lalian">
                        <img class="arr_left" src="./images/w_left.png">
                        <p>拉练篇</p>
                        <img class="arr_right" src="./images/w_right.png">
                    </div>
                    
                    <!-- 按钮 -->
                    <img class="arm_input btn" src="images/w_arminput.png">
                    <img class="arm_dot1" src="images/w_mydot.png">
                    <img class="arm_dot2" src="images/w_mydot.png">
                </div>
                
                <div class="arm-message">
                    <img class="arm_left" src="images/w_armleft.png"></img>   
                    <img class="arm_center" src="images/w_armcenter.png"></img>   
                    <img class="arm_right" src="images/w_armright.png"></img>
                    <p class="arm_p">这是第一张迎着晨曦，踏着有力的步伐，喊着响亮的口号，从新校门触发，途径347终点站，绕至学校老校门，徒步行进15公里。15公里的拉链和防爆演练锻炼了我们的体魄，磨练了我们的意志。</p>   
                </div>

                <div class="arm-message on">
                    <img class="arm_left" src="images/w_armleft.png"></img>   
                    <img class="arm_center" src="images/w_armcenter.png"></img>   
                    <img class="arm_right" src="images/w_armright.png"></img>
                    <p class="arm_p">这是第二张迎着晨曦，踏着有力的步伐，喊着响亮的口号，从新校门触发，途径347终点站，绕至学校老校门，徒步行进15公里。15公里的拉链和防爆演练锻炼了我们的体魄，磨练了我们的意志。</p>   
                </div>

                <div class="arm-message">
                    <img class="arm_left" src="images/w_armleft.png"></img>   
                    <img class="arm_center" src="images/w_armcenter.png"></img>   
                    <img class="arm_right" src="images/w_armright.png"></img>
                    <p class="arm_p">这是第三张着晨曦，踏着有力的步伐，喊着响亮的口号，从新校门触发，途径347终点站，绕至学校老校门，徒步行进15公里。15公里的拉链和防爆演练锻炼了我们的体魄，磨练了我们的意志。</p>   
                </div>
            
            </div>

            <div id="message">
                <div class="mes-title">
                    <img class="mes_gongnue" src="images/w_gongnue.png" >
                    <img class="mes_shuju" src="images/w_shuju.png" >
                    <img class="mes_waikuang" src="images/w_waikuang.png" >
                    <img class="mes_mesyingying" src="images/w_mesyingying.png" >
                    <img class="mes_fengcai" src="images/w_fengcai.png" >
                    <img class="mes_guanyu" src="images/w_guanyu.png" >
                    <img class="mes_gongnue2" src="images/w_gongnue2.png" >
                    <img class="mes_shuju2" src="images/w_shuju2.png" >
                    <img class="mes_fengcai2" src="images/w_fengcai2.png" >
                    <img class="mes_guanyu2" src="images/w_guanyu2.png" >
                    <img class="mes_mesgrass" src="images/w_mesgrass.png" >
                    
                    <img class="mes_dot" src="images/w_mesdot.png" >
                    
                   <!--  四个按钮 -->
                    <img class="mes_mesinput1 btn" src="images/w_mesinput.png" >
                    <img class="mes_mesinput2 btn" src="images/w_mesinput.png" >
                    <img class="mes_mesinput3 btn" src="images/w_mesinput.png" >
                    <img class="mes_mesinput4 btn" src="images/w_mesinput.png" >
                </div>
                <div class="mes_text">
                    <p class="mes_text1">提供给新生们火车站，机场等到学校的公交车路线以及打车的大致费用、寝室条件、必备清单、新生群、老乡群、班级群、学校周边银行、超市、美景美食等信息。</p>
                    <p class="mes_text2">我校学科结构不断优化，学科特色日益凸显，学科优势更加突出，学科实力不断增强。截至2014年11月，我校有2个一级学科博士学位授权点、12个一级学科硕士学位授权点......</p>
                    <p class="mes_text3">这里有优秀教师和邮子的风采展示，各大校级学生组织的简介，更有精美照片与精彩原创视频。</p>
                    <p class="mes_text4">红岩网校工作站简介。优秀内网展示、以及各种迎新活动专题。我们一直在努力。</p>
                </div>
            </div>

            


            <div id="welcome">
                
                <div class="wel-contain">
                    <img class="wel_background" src="images/w_background.png">
                    <img class="wel_first" src="images/w_first.png">
                    <img class="wel_secend" src="images/w_secend.png">
                    <img class="wel_learn1 btn" src="images/w_learn1.png">
                    <img class="wel_learn2 btn" src="images/w_learn2.png">
                    <img class="wel_grass" src="images/w_grass.png">
                    <img class="wel_title" src="images/w_welcome.png">
                    <img class="wel_dot1" src="images/w_mydot.png">
                    <img class="wel_dot2" src="images/w_mydot.png">
                    <img class="wel_dot3" src="images/w_mydot.png">
                    <img class="wel_dot4" src="images/w_mydot.png">
          

                </div>
                
                <div class="wel-text">
                    <p class="wel_myp1">想了解更多关于学校的日常？想提前了解自己的专业？或者有其他方面的问题，就来“学长学姐帮帮忙”板块，学长学姐们都在这里，等待着你的提问。</p>
                    <p class="wel_myp2">想了解更多关于学校的日常？想提前了解自己的专业？或者有其他方面的问题，就来“学长学姐帮帮忙”板块，学长学姐们都在这里，等待着你的提问。</p>
                </div>
                
            </div>
            
            

            
        </div>
    <!-- <script type="text/javascript" src="./js/magnifier.js"></script> -->
    <script type="text/javascript">
        var w_title = document.getElementsByClassName('wel_title')[0],
            w_gongnue = document.getElementsByClassName('mes_gongnue')[0],
            w_shuju = document.getElementsByClassName('mes_shuju')[0],
            w_fengcai = document.getElementsByClassName('mes_fengcai')[0],
            w_guanyu = document.getElementsByClassName('mes_guanyu')[0],
            w_armtitle = document.getElementsByClassName('arm_armtitle')[0],
            w_gongnue2 = document.getElementsByClassName('mes_gongnue2')[0],
            w_shuju2 = document.getElementsByClassName('mes_shuju2')[0],
            w_guanyu2 = document.getElementsByClassName('mes_guanyu2')[0],
            w_fengcai2 = document.getElementsByClassName('mes_fengcai2')[0],
            w_maptitle = document.getElementsByClassName('map_title')[0],
            //地图专栏对象
            map_move = document.querySelector('.map_move'),
            map_map = document.querySelector('.map_map'),
            map_add = document.querySelector('.map_add'),
            map_sub = document.querySelector('.map_sub'),
            //军训专栏对象
            arm_message = document.querySelectorAll('.arm-message'),
            arr_left = document.querySelector('.arr_left'),
            arr_right = document.querySelector('.arr_right'),
            my_p = document.querySelector('.my_lalian p'),
            flag = 1;

           
            //地图开始

            //放大功能
            map_add.onclick = function() {
                var w = getStyle(map_map,"width");
                w = parseFloat(w) + 100;
                if(w > 4000){
                    w = 4000;
                }
                map_map.style.width = w + "px";
                map_map.style.height = "";
            }
            //缩小功能
            map_sub.onclick = function() {
                var w = getStyle(map_map,"width");
                w = parseFloat(w) - 100;
                if(w < 880){
                    w = 880
                    map_map.style.height = "445px";
                }
                map_map.style.width = w + "px";
            }
            //获取属性值
            function getStyle(obj,attr){
                if(obj.currentStyle){
                    //IE浏览器
                    return obj.currentStyle[attr];
                }else{
                    //非IE浏览器
                    return getComputedStyle(obj)[attr];
                }
            }
            //js原生拖拽
            map_move.onmousedown = function(ev){
                var ev = ev || window.event; //兼容性处理
                //获取鼠标按下去的坐标
                var x1 = ev.clientX;
                var y1 = ev.clientY;
                //获取obj的初始位置
                var l = map_map.offsetLeft;
                var t = map_map.offsetTop;
                //获取地图宽高
                var W = map_map.offsetWidth;
                var H = map_map.offsetHeight;
                //获取盒子宽高
                var boxW = 880;
                var boxH = 446;

                map_move.onmousemove = function(e){
                    var e = e || window.event; 
                    var _left = e.clientX - x1 + l;
                    var _top = e.clientY - y1 + t;
                    //判断
                    (_left > 0)&&(_left = 0);
                    (_top > 0)&&(_top = 0);
                    (_left < boxW - W)&&(_left = boxW - W);
                    (_top < boxH - H)&&(_top = boxH - H);
                    //赋值
                    map_map.style.left = _left + "px";
                    map_map.style.top = _top + "px";
                }
                //解绑点击事件
                document.onmouseup = function(){
                    map_move.onmousemove = null;
                    document.onmouseup = null;
                }
            }
            //地图结束
           
            //军训轮播开始

            //自动轮播功能
            var timer = setInterval(loop,5000);
            
            function loop() {
                flag++;
                for(var i=0,len=arm_message.length;i<len;i++){
                    arm_message[i].className = "arm-message";
                    arm_message[i].onmouseenter = function() {
                        clearInterval(timer);
                    }
                    arm_message[i].onmouseleave = function() {
                        timer = setInterval(loop,5000);
                    }
                }
                if(flag > arm_message.length-1){
                    flag = 0;
                }
                arm_message[flag].className = "arm-message on";
                arm_message[flag].style.animation = "arm_left 2s ease";
                my_p.innerText = check(flag);
            }

            //点击上一张
            arr_left.onclick = function() {
                clearInterval(timer);
                for(var i=0,len=arm_message.length;i<len;i++){
                    arm_message[i].className = "arm-message";
                }
                
                flag--;
                if(flag < 0){
                    flag = arm_message.length-1;
                }
                arm_message[flag].className = "arm-message on";
                arm_message[flag].style.animation = "arm_left 2s ease";
                my_p.innerText = check(flag);
            }
            //点击下一张
            arr_right.onclick = function() {
                clearInterval(timer);
                for(var i=0,len=arm_message.length;i<len;i++){
                    arm_message[i].className = "arm-message";
                }
                
                flag++;

                if(flag > arm_message.length-1){
                    flag = 0;
                }
                arm_message[flag].className = "arm-message on";
                arm_message[flag].style.animation = "arm_right 2s ease";
                my_p.innerText = check(flag);
            }

            function check(index) {
                if(index == 0){
                    return "第一篇";
                }else if(index == 1){
                    return "拉练篇";
                }else{
                    return "第三篇";
                }
            }
            //军训轮播结束


            //放大镜特效
            // map_move.setAttribute("bigsrc",map_map.src);

           

        my_title(w_armtitle);
        my_title(w_guanyu);
        my_title(w_fengcai);
        my_title(w_shuju);
        my_title(w_gongnue);
        my_title(w_title);
        my_title(w_maptitle);
        my_title2(w_gongnue2);
        my_title2(w_shuju2);
        my_title2(w_fengcai2);
        my_title2(w_guanyu2);
       
       
        //规定路标动画事件
        function my_title(obj){
            obj.onmouseover = function(){
                move1(this);
            };
            obj.onmouseout = function(){
                clearMove1(this);
            }
        }
        //规定路标转动动画
        function move1(obj){
            clearMove1.abc = 1;
            obj.style.zIndex = '10';
            obj.style.WebkitAnimation = 'weltitle 2s ease 2 alternate';
            setTimeout(function(){
                clearMove1.abc = 0;
            },4000)
            
        }
        //规定路标清除动画
        function clearMove1(obj){
            if(!clearMove1.abc){
                    obj.style.WebkitAnimation = '';
              }
        }
        
        //规定logo动画事件
        function my_title2(obj){
            obj.onmouseover = function(){
                move2(this);
            };
            obj.onmouseout = function(){
                clearMove2(this);
            }
           
        }
        //规定logo转动动画
        function move2(obj){
            clearMove2.abc = 1;
            
            obj.style.WebkitAnimation = 'meslogo 2s ease 1 alternate';
            obj.style.zIndex = '10';
            setTimeout(function(){
                 clearMove2.abc = 0;
            },2000)
        }
     

        //规定logo清除动画
        function clearMove2(obj){
            if(!clearMove2.abc){
                obj.style.WebkitAnimation = '';
            }
        }

        //w_rightstone.style.left = document.body.clientWidth;
        //w_leftstone.style.left = document.
    </script>
    </body>
</html>